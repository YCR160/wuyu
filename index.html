<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ— è¯­ç”Ÿæˆå™¨</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 50px;
        }

        select,
        input {
            padding: 10px;
            margin: 20px;
        }

        .emoji {
            font-size: 50px;
            position: absolute;
            left: 75%;
            top: 0%;
        }

        img.icon {
            display: block;
            width: 200px;
            height: 200px;
        }

        .container {
            margin-top: 30px;
            position: relative;
            display: inline-block;
        }

        #position-range {
            width: 200px;
        }

        #vertical-range {
            appearance: slider-vertical;
            height: 200px;
            position: absolute;
        }

        #emoji-output {
            display: inline-block;
        }
    </style>
</head>

<body>
    <!-- https://github.com/YuehaiTeam/cocogoat/blob/a83bdcf86f7f560b904b6315a90df404f7295c92/loader/loader.scss#L6 -->
    <noscript>å™¢æˆ‘çš„è€å¤©çˆ·ï¼Œçœ‹èµ·æ¥ä½ æ²¡æœ‰å¯ç”¨ç¥å¥‡çš„ JavaScriptï¼å®ƒå®åœ¨æ˜¯å¤ªä¸å¯æ€è®®äº†ï¼Œä»¥è‡³äºæˆ‘ä»¬çš„åº”ç”¨æ²¡æœ‰å®ƒå®Œå…¨æ²¡åŠæ³•å·¥ä½œã€‚è€ä¼™è®¡ï¼Œæˆ‘ä»¥ä¸Šå¸çš„åä¹‰å‘èª“ï¼Œå¦‚æœä½ ç°åœ¨å¯ç”¨å®ƒï¼Œæˆ‘ä»¬çš„åº”ç”¨ä¼šåƒçŸ³å¤´å †é‡Œçš„é»„é‡‘ä¸€æ ·æ˜¾çœ¼ï¼</noscript>
    <h1>æ— è¯­ç”Ÿæˆå™¨</h1>
    <label for="icon-select">é€‰æ‹©å›¾æ ‡:</label>
    <select id="icon-select"></select>

    <br>

    <label for="text-input">è¾“å…¥æ–‡æœ¬:</label>
    <input type="text" id="text-input" placeholder="è¾“å…¥ä½ çš„æ–‡å­—" />

    <div>
        <div id="emoji-output"></div>
        <input type="range" id="vertical-range" name="range" min="-80" max="30" value="0" />
    </div>

    <input type="range" id="position-range" name="range" min="-30" max="100" value="75" />

    <script>
        function render() {
            const selectedIcon = document.getElementById('icon-select').value;
            const inputText = document.getElementById('text-input').value;
            const position = document.getElementById('position-range').value;
            const vertical = document.getElementById('vertical-range').value;

            const imgElement = `<img src="https://api.iconify.design/devicon/${selectedIcon}.svg" alt="${selectedIcon}" class="icon" />`;
            const sweatElement = `<div id="sweat" class="emoji" style="left: ${position}%; top: ${-Number(vertical)}%;">ğŸ’§</div>`;

            const container = `<div class="container">${imgElement}${sweatElement}</div>`;
            const text = `<h2>æ— è¯­ï¼Œå’Œä½ è¯´ä¸ä¸‹å»<br>å…¸å‹çš„ ${inputText} æ€ç»´</h2>`;

            document.getElementById('emoji-output').innerHTML = container + text;
        };

        // è·å–Deviconå›¾æ ‡é›†å¹¶å¡«å……ä¸‹æ‹‰èœå•
        fetch('https://api.iconify.design/collection?prefix=devicon')
            .then(response => response.json())
            .then(data => {
                const select = document.getElementById('icon-select');
                data.uncategorized.forEach(icon => {
                    const option = document.createElement('option');
                    option.value = icon;
                    option.textContent = icon;
                    select.appendChild(option);
                });
                document.getElementById('icon-select').addEventListener('change', render);
                document.getElementById('text-input').addEventListener('input', render);
                document.getElementById('position-range').addEventListener('input', render);
                document.getElementById('vertical-range').addEventListener('input', render);

                document.getElementById('icon-select').value = 'cplusplus';
                document.getElementById('text-input').value = 'Rust';
                render();
            })
            .catch(error => console.error('è·å–å›¾æ ‡å¤±è´¥:', error));

    </script>
</body>

</html>
